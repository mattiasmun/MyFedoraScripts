#!/bin/bash
xdotool keyup Return
wmctrl -a 'Kampen om Wesnoth'
sleep 0.3
f=$HOME/typestr
n=3
s=''

function enter
{
	xdotool key colon
	sleep 0.3
	xdotool key Ctrl+v
	sleep 0.3
	xdotool key Return
}

function loop
{
	xclip -i $f -selection clipboard
	for((i=0;i<$n;i++))
	do
		enter
	done
}

function start
{
	echo $s > $f
	loop
}

#debug
s='unit advances=5';start
sleep 5
s='unit max_hitpoints=9000';start
s='unit advances=5';start
sleep 5
s='unit experience=999999';start
s='unit max_moves=90';start
for i in {1..200}
do
	xdotool key aring
done
for i in {1..60}
do
	xdotool key adiaeresis
done

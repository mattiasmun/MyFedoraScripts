#!/bin/bash

# Duration in seconds
DURATION_SECONDS=$1 # Change 5 to your desired number of seconds

sleep 1

# Press and hold the Alt key (left Alt is usually 'Alt_L')
echo keydown Alt_L | dotoolc

# Press and release the Tab key
echo key Tab | dotoolc

# Release the Alt key
echo keyup Alt_L | dotoolc

# Get the start time
START_TIME=$(date +%s)
END_TIME=$((START_TIME + DURATION_SECONDS))

echo "Starting rapid clicking for $DURATION_SECONDS seconds..."

while [ $(date +%s) -lt $END_TIME ]; do
    echo click left | dotoolc
    # A very small or no sleep here to click as fast as possible.
    # 'sleep 0' might not actually yield to other processes and can max out CPU.
    # For some systems, a very small sleep like 'sleep 0.001' (1 millisecond)
    # might be more efficient and still very fast. Experiment to see what works best.
    sleep 0.001
done

echo "Clicking finished."
